/**
 * タブコンポーネント
 * メニューカテゴリの切り替えなどに使用
 * 2025年トレンド対応のモダンなデザイン
 */

.uiTabs {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-lg);

    @include media(sp) {
        gap: var(--spacing-md);
    }

    &__nav {
        display: flex;
        gap: var(--spacing-sm);
        border-bottom: var(--border-width-medium) solid var(--color-border-light);
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none;

        &::-webkit-scrollbar {
            display: none;
        }

        @include media(sp) {
            gap: var(--spacing-xs);
        }
    }

    &__navItem {
        flex-shrink: 0;
    }

    &__navButton {
        padding: var(--spacing-md) var(--spacing-lg);
        border: none;
        background: transparent;
        color: var(--color-text-light);
        font-size: var(--font-size-base);
        font-weight: 600;
        cursor: pointer;
        transition: all var(--transition-base);
        position: relative;
        white-space: nowrap;
        border-bottom: var(--border-width-thick) solid transparent;
        margin-bottom: calc(-1 * var(--border-width-medium));

        @include media(sp) {
            padding: var(--spacing-sm) var(--spacing-md);
            font-size: var(--font-size-sm);
        }

        &:hover {
            color: var(--color-primary);
            background-color: rgba(102, 126, 234, 0.05);
        }

        &.isActive {
            color: var(--color-primary);
            border-bottom-color: var(--color-primary);
            font-weight: 700;
            background-color: rgba(102, 126, 234, 0.08);
        }

        &:focus-visible {
            outline: 2px solid var(--color-primary);
            outline-offset: 2px;
        }
    }

    &__content {
        position: relative;
        min-height: 200px;
    }

    &__panel {
        display: none;
        opacity: 0;
        transform: translateY(10px);
        transition:
            opacity var(--transition-base),
            transform var(--transition-base);

        &.isActive {
            display: block;
            opacity: 1;
            transform: translateY(0);
            animation: fadeIn var(--transition-base) ease-out;
        }
    }

    // パターン1: 基本タブ（横並び）
    &_type_basic {
        .uiTabs__navButton {
            border-bottom: 3px solid transparent;

            &.isActive {
                border-bottom-color: var(--color-primary);
            }
        }
    }

    // パターン2: アンダーラインタブ（下線付き）
    &_type_underline {
        .uiTabs__nav {
            border-bottom: var(--border-width-medium) solid var(--color-border);
        }

        .uiTabs__navButton {
            border-bottom: none;
            padding-bottom: var(--spacing-md);
            margin-bottom: calc(-1 * var(--border-width-medium));

            &::after {
                content: '';
                position: absolute;
                bottom: calc(-1 * var(--border-width-medium));
                left: 0;
                width: 0;
                height: var(--border-width-medium);
                background: var(--gradient-primary);
                transition: width var(--transition-base);
            }

            &.isActive {
                &::after {
                    width: 100%;
                }
            }
        }
    }

    // パターン3: ピルタブ（丸みのあるタブ）
    &_type_pill {
        .uiTabs__nav {
            border-bottom: none;
            gap: var(--spacing-sm);
            background: var(--color-bg-gray);
            padding: var(--spacing-xs);
            border-radius: var(--border-radius-full);
        }

        .uiTabs__navButton {
            border-bottom: none;
            border-radius: var(--border-radius-full);
            padding: var(--spacing-sm) var(--spacing-lg);
            margin-bottom: 0;

            @include media(sp) {
                padding: var(--spacing-xs) var(--spacing-md);
            }

            &:hover {
                background: rgba(255, 255, 255, 0.5);
            }

            &.isActive {
                background: var(--gradient-primary);
                color: #fff;
                box-shadow: var(--shadow-md);
                transform: translateY(-2px);
            }
        }
    }
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
