@use 'sass:math';
@import './variables';

/* ==========================================================================
   Base Styles
   ========================================================================== */

html {
    font-size: 62.5%; // 1rem = 10px
    height: 100%;
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body {
    font-family: $font-sans;
    font-size: $font-size-base;
    line-height: $line-height-base;
    color: $color-text;
    background-color: $color-bg;
    letter-spacing: $letter-spacing-base;
    font-feature-settings: "palt"; // 自動文字詰め
    height: 100%;
    overflow-x: hidden;
    transition: opacity 0.5s ease;
    
    // カスタムカーソル（PCのみ）
    @include media(pc) {
        // cursor: none; // 必要に応じて有効化
    }

    &.is-locked {
        overflow: hidden;
    }
}

/* ==========================================================================
   Typography
   ========================================================================== */

h1, h2, h3, h4, h5, h6 {
    font-family: $font-serif;
    line-height: $line-height-tight;
    margin-bottom: $spacing-md;
    font-weight: 400;
}

h1 { font-size: $font-size-xxl; }
h2 { font-size: $font-size-xl; }
h3 { font-size: $font-size-lg; }
h4 { font-size: $font-size-md; }
h5 { font-size: $font-size-base; }
h6 { font-size: $font-size-sm; }

p {
    margin-bottom: $spacing-md;
    line-height: $line-height-relaxed;
}

a {
    color: inherit;
    text-decoration: none;
    transition: color $transition-fast;
    cursor: pointer;

    &:hover {
        color: $color-accent;
    }
}

img {
    max-width: 100%;
    height: auto;
    display: block;
}

/* ==========================================================================
   Reset & Normalize Overrides
   ========================================================================== */

*, *::before, *::after {
    box-sizing: border-box;
}

ul, ol {
    list-style: none;
    padding: 0;
    margin: 0;
}

button, input, select, textarea {
    font-family: inherit;
    font-size: inherit;
    color: inherit;
    background: transparent;
    border: none;
    outline: none;
    appearance: none;
}

/* ==========================================================================
   Page Transition Overlay
   ========================================================================== */

.page-transition-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: $color-bg;
    z-index: 9999;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.5s ease;

    body.fade & {
        opacity: 1;
        pointer-events: auto;
    }
}

/* ==========================================================================
   Utility Classes
   ========================================================================== */

.container {
    width: 100%;
    max-width: $container-width-lg;
    margin: 0 auto;
    padding: 0 $spacing-md;

    @include media(sp) {
        padding: 0 $spacing-sm;
    }
}

.text-center { text-align: center; }
.text-right { text-align: right; }
.text-left { text-align: left; }

.mb-0 { margin-bottom: 0 !important; }
.mb-sm { margin-bottom: $spacing-sm !important; }
.mb-md { margin-bottom: $spacing-md !important; }
.mb-lg { margin-bottom: $spacing-lg !important; }
