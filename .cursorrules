# 静的Webサイト制作テンプレート - Cursor ルール

このプロジェクトは、**静的Webサイト制作テンプレート**です。
Cursor や AI エージェントは、以下のルールに従って作業してください。

---

## 0. AI向け・最重要ルール

1. **編集対象は `src/` 配下のみ**
   - `public/` はビルド成果物なので、**絶対に手動編集しない**。
2. **既存のビルド設定・タスクランナーは変更しない**
   - `gulpfile`, `webpack` などの設定ファイルは、ユーザーから明示的な指示がある場合のみ編集する。
3. **BEM命名規則を厳守**
   - Block / Element / Modifier を必ず BEM で記述する（詳細は後述）。
4. **すべてのHTMLタグに class を付与し、原則 BEM で命名する**
   - 例外は `script` などごく一部のみ。
5. **JavaScriptは jQuery を基本とし、既存の書き方に合わせる**
   - 状態クラスは `.isActive` や `js-` プレフィックスを使用。
6. **コンポーネント指向で開発する**
   - 再利用可能なコンポーネントとして設計・実装すること。
   - 各コンポーネントは独立して動作し、組み合わせて使用できること。
7. **デザインシステム（パーツリストページ）を必ず作成する**
   - パーツリストページは `src/pages/parts/` に配置する。
   - 実際のサイトで使用しないコンポーネントでも、同じトンマナで可能な限り多く生成すること。
8. **セクションテンプレートを優先的に使用する**
   - 新しいセクションを作成する際は、既存のセクションテンプレートを確認し、再利用可能なものがあれば使用すること。
   - セクションテンプレートは `src/pages/template/sections/` に配置する。
9. **設定ファイルを活用する**
   - サイト情報、OGP設定、SNSリンクなどは `config/` の設定ファイルで一元管理すること。
   - ハードコードされた値を設定ファイルの変数に置き換えること。
10. **2025年のデザイントレンドを取り入れること（必須）**
    - 最新のデザイントレンドを反映したサイトデザインを実装すること。
    - モダンで洗練されたUI/UXを心がけること。
11. **高品質なデザインクオリティを維持すること（必須）**
    - [SANKOU!](https://sankoudesign.com/)、[muuuuu.org](https://muuuuu.org/)、[io3000.com](https://io3000.com/)、[81-web.com](https://81-web.com/)、[.SG_BOOKMARK](http://bookmark.dot-sg.com/) に掲載されるようなクオリティのサイトを作成すること。
    - プロフェッショナルなデザイン、洗練されたアニメーション、優れたユーザー体験を実現すること。

---

## 1. エディタ & コードスタイル

### エディタ設定

- インデントスタイル: スペース
- インデントサイズ: **4スペース**
- 文字エンコーディング: UTF-8
- ファイル末尾の改行: 必須
- 行末の空白: 自動削除

### Prettier / Lint

- `.prettierrc.js`, `.prettierignore`, `.editorconfig`, `.stylelintrc.json` に従うこと。
- **保存時フォーマット前提**。人間とAIどちらが編集しても同じフォーマットになるようにする。

#### フォーマットルール（要点）

- JavaScript
  - セミコロンあり
  - シングルクォート
  - インデント: 4スペース
  - 行長: 140文字
- EJS（HTML）
  - インデント: 4スペース
  - 行長: 120文字
- SCSS
  - シングルクォート
  - 行長: 120文字
- JSON / YAML
  - インデント: 2スペース

---

## 2. Git コミットメッセージ規則

### プレフィックス

- `add:`      - 新機能・新ファイル追加
- `modify:`   - 既存機能の仕様変更
- `fix:`      - バグ修正
- `update:`   - 軽微な更新・改善（文言変更・スタイル調整など）
- `rename:`   - ファイル名・変数名の変更
- `rm:`       - 削除
- `refactor:` - 挙動を変えないリファクタリング

#### 例

```text
add: トップページのヒーローセクションを追加
modify: 料金表のレイアウトを修正
fix: SP時にヘッダーが隠れる不具合を修正
update: お問い合わせボタンの文言を更新
rename: p-topクラス名をtopPageに変更
rm: 未使用の画像を削除
refactor: トップページJSの関数を整理
```

---

## 3. プロジェクト構造

### ディレクトリ構成

- `src/` - 編集対象のソース
  - `images/` - 画像ファイル（ビルド時に圧縮）
  - `pages/` - EJSテンプレート（HTMLに変換される）
    - `template/` - 共通テンプレート
      - `_header.ejs`, `_footer.ejs` - 共通ヘッダー・フッター
      - `sections/` - セクションテンプレート（_hero.ejs, _news.ejs など）
      - `pages/` - ページタイプ別テンプレート（_landingPage.ejs など）
    - `parts/` - パーツリストページ（デザインシステム）
  - `scripts/` - Webpackでビルドされる JS（動的エントリーポイント）
  - `static/` - そのままコピーされる静的ファイル
    - `js/` - そのまま使う JS
  - `styles/` - SCSS
    - `common/` - 共通コンポーネント（header, footer など）
    - `components/` - 再利用コンポーネント
    - `pages/` - ページ固有スタイル
      - `_parts.scss` - パーツリストページ用スタイル
- `public/` - ビルド出力（絶対に直接編集しない）
- `config/` - 設定ファイル（環境変数など）

### ビルド対象パターン

- `src/pages/**/[^_]*.ejs` → HTML 化（アンダースコア始まりは無視）
- `src/scripts/**/[^_]*.js` → Webpack エントリとしてビルド
- `src/styles/**/[^_]*.scss` → CSS にコンパイル

---

## 4. BEM命名規則（最重要）

このプロジェクトでは BEM + キャメルケース + 特殊モディファイア形式 を採用します。

### 4-1. Block（ブロック）

原則として キャメルケース で記述します。

例: `.topMv`, `.header`, `.roundBtn`

ページルートブロックとして、`.p-top` のような ページプレフィックス を使うのは許容。

例: `.p-top__hero`, `.p-top__section`

### 4-2. Element（エレメント）

`Block__element`（アンダースコア2つ）+ エレメント名は キャメルケース。

例:

```html
<div class="topMv">
  <div class="topMv__inner">
    <ul class="topMv__list">
      <li class="topMv__listItem">…</li>
    </ul>
  </div>
</div>
```

詳細要素は、キャメルケースで連結:

例: `.topMv__listItemInner`, `.topMv__listItemThumb`

### 4-3. Modifier（モディファイア）

モディファイアは 特殊形式 `_キー名_値` を使います。

- ブロックモディファイア: `Block_キー名_値`
- エレメントモディファイア: `Block__element_キー名_値`

例:

```html
<div class="topMv topMv_type_main">
  <div class="topMv__inner">
    <div class="topMv__list topMv__list_type_01">
      <div class="topMv__listItem topMv__listItem_type_02">
        …
      </div>
    </div>
  </div>
</div>
```

```scss
.topMv {
  &__inner {
    // …
  }

  &__list {
    &_type_01 {
      // type_01 用
    }
  }

  &__listItem {
    &_type_02 {
      // type_02 用
    }
  }
}
```

### 4-4. 例外クラス

- JavaScript用フック: `js-` プレフィックス（例: `.js-toggle-menu`）
- 状態クラス: `.isActive`, `.isOpen`, `.isScrolled` など

上記以外のユーティリティクラスは 最小限に抑え、勝手に増やさない。

---

## 5. HTML / EJS テンプレート

### 5-1. テンプレート構造

- `src/pages/index.ejs` - トップページ
- `src/pages/about/index.ejs` - 会社概要ページ
- `src/pages/template/` - 共通テンプレート
  - `_header.ejs`, `_footer.ejs` - 共通ヘッダー・フッター
  - `sections/` - セクションテンプレート
    - `_hero.ejs` - ヒーローセクション
    - `_news.ejs` - お知らせセクション
    - `_productList.ejs` - 商品一覧セクション
    - など
  - `pages/` - ページタイプ別テンプレート
    - `_landingPage.ejs` - ランディングページ用
    - など
  - バリエーション例: `_header_02_01.ejs` など

#### インクルード例

```ejs
<%- include('./template/_header', {
    meta: {
        title: 'ページタイトル',
        description: 'ページの説明',
        siteType: 'website',
        url: 'about/',
    }
}) %>

<!-- ページコンテンツ -->
<!-- セクションテンプレートの使用例 -->
<%- include('./template/sections/_hero', {
    title: 'メインタイトル',
    subtitle: 'サブタイトル',
    image: './images/hero.jpg',
    cta: {
        text: 'お問い合わせ',
        url: './contact/'
    }
}) %>

<%- include('./template/sections/_news', {
    title: '最新情報',
    items: [
        {
            date: '2025.01.01',
            category: 'お知らせ',
            title: 'タイトル1',
            url: './news/01/'
        }
    ]
}) %>

<%- include('./template/_footer', {
    scripts: ['./js/index.js']
}) %>
```

### 5-2. HTMLクラス命名規則

BEMフォーマット: 有効（必須）

セクション／コンポーネント単位で Block を定義すること。

#### セクションタイトルの例

- セクション共通タイトル: `.a-sectionTitle`（Atomicなパターンとして使用可）

#### ページ・オブジェクトの例

- `.p-top__hero`
- `.o-header__logoImage`
- `.o-header__navLink`

ただし、新規クラスは必ず BEMに乗る形 で命名すること。
`a-`, `o-`, `p-` はプレフィックスとして扱い、その後は BEM の Block と見なす。

### 5-3. すべてのタグに class 必須（かつ可能な限り BEM）

以下のタグには 必ず class 属性を付与 し、原則 BEM に沿った名前をつけてください。

`a`, `address`, `article`, `aside`, `b`, `blockquote`, `caption`, `code`, `dd`, `details`, `dl`, `dt`, `em`, `figure`, `footer`, `form`, `h1`, `h2`, `h3`, `h4`, `h5`, `h6`, `header`, `i`, `iframe`, `img`, `label`, `li`, `nav`, `object`, `ol`, `p`, `pre`, `section`, `small`, `span`, `strong`, `sub`, `summary`, `sup`, `table`, `tbody`, `td`, `tfoot`, `th`, `thead`, `time`, `tr`, `ul`, `video`

例:

```html
<p class="lpHero__lead">…</p>

<strong class="lpHero__leadEmphasis">…</strong>
```

---

## 6. SCSS / CSS 構造

### 6-1. ファイル構造

- `src/styles/style.scss` - メインスタイル（全体）
- `src/styles/common.scss` - 共通系
- `src/styles/_base.scss` - リセット + 基本スタイル
- `src/styles/_animation.scss` - アニメーション
- `src/styles/common/` - `_header.scss`, `_footer.scss` など
- `src/styles/components/` - `_button.scss`, `_ttl.scss` など
- `src/styles/pages/` - `_index.scss`, `_about.scss` など

### 6-2. SCSSクラス命名規則

BEMフォーマットを使用（必須）

Block, Element, Modifier は前述のBEMルールに従う。

ページルートは `.p-top` のようなプレフィックスBlockでも可。

ネストは 最大3階層 まで。

```scss
.p-top {
  &__hero {
    // 1階層

    &Title {
      // 2階層（詳細要素）
    }

    &_type_main {
      // モディファイア
    }
  }
}
```

### 6-3. フォントサイズと単位

- フォントサイズ単位: `rem`
- ベースフォントサイズ: 10px 相当

### 6-4. Mixin / 関数（例）

```scss
@use 'sass:math';

$responsive: (
  'se': 'screen and (max-width: 321px)',
  'spm': 'screen and (max-width: 480px)',
  'sp': 'screen and (max-width: 768px)',
  'ipad': 'screen and (max-width: 960px)',
  'tab': 'screen and (max-width: 1160px)',
  'pc': 'screen and (max-width: 1480px)',
);

@mixin media($breakpoint: sp) {
  @media #{map-get($responsive, $breakpoint)} {
    @content;
  }
}

// 行間計算
@function lh($font-size, $line) {
  @return math.div($line, $font-size);
}

// PC基準VW
@function vw($size, $width: 1460) {
  @return math.div($size, $width) * 100vw;
}

// SP基準VW
@function vwSp($size, $width: 750) {
  @return math.div($size, $width) * 100vw;
}
```

### 6-5. インポート（Gulp + sass-glob 前提）

```scss
@charset 'utf-8';
@use 'sass:math';

@import '~html5-reset';
@import '_base';
@import '_animation';
@import 'components/**/*.scss';
@import 'common/**/*.scss';
@import 'pages/**/*.scss';
```

`gulp-sass-glob` によるワイルドカードインポートを利用。

アンダースコア (`_`) 始まりのファイルはパーシャルとして扱う。

---

## 7. JavaScript 構造

### 7-1. ファイル配置

- `src/static/js/` - そのままコピーされる JS
- `src/scripts/` - Webpack でバンドルされる JS
- `src/components/` - 再利用コンポーネント（index.js は main.js に統合）

### 7-2. 使用ライブラリ

- jQuery 3.x
- Swiper
- GSAP + ScrollTrigger

### 7-3. 記述方針

jQuery を中心に実装 する。

状態は `.isActive` などのクラスで管理。

JS用フックは `js-` プレフィックス。

```javascript
$(document).ready(function () {
    const $header = $('.header');
    const $nav = $('.gNav');

    $('.js-toggle-menu').on('click', function () {
        $nav.toggleClass('isActive');
    });

    $(window).on('scroll', function () {
        if ($(window).scrollTop() > 100) {
            $header.addClass('isScrolled');
        } else {
            $header.removeClass('isScrolled');
        }
    });
});

// Swiper例
const topMv__list_type_01 = new Swiper('.topMv__list_type_01', {
  loop: true,
  slidesPerView: 1,
  effect: 'fade',
  speed: 1000,
  autoplay: { delay: 3000 },
  pagination: {
    el: '.topMv__pagination_type_02',
    clickable: true,
  },
});
```

AI は、新しいライブラリを勝手に追加しないこと。
必要な場合は既存構成（jQuery + Swiper + GSAP）の範囲で実装する。

---

## 8. 画像の扱い

- 配置: `src/images/`
- 出力: `public/images/`（自動圧縮 & WebP変換）
- 参照パス: `./images/xxx.jpg`

```html
<img class="lpGallery__image" src="./images/img_01.jpg" alt="画像説明">

<picture class="lpHero__image">
  <source media="(max-width: 960px)" srcset="./images/img_03_sp.jpg">
  <img src="./images/img_03.jpg" alt="画像説明">
</picture>
```

---

## 9. ビルドシステム

### 使用技術

- Gulp 4（ESM）
- EJS
- SASS
- Webpack + Babel
- BrowserSync

### コマンド

```bash
# 開発（監視 + サーバ）
npm run gulp

# 開発ビルドのみ
npm run gulp build

# 本番ビルド
NODE_ENV=production npm run gulp build
```

AI は、これらのコマンドやビルドタスクの構成を 変更しない。
必要があればユーザーの指示を待つこと。

---

## 10. 開発時の注意点（AIが守ること）

- `public/` は触らない（編集・整形もしない）。
- BEM命名を厳守し、新しいクラスを勝手なルールで増やさない。
- **コンポーネント指向で開発し、再利用可能な形で実装する。**
- **パーツリストページは必ず作成し、可能な限り多くのコンポーネントバリエーションを含める。**

### 新しいページを追加する場合

- `src/pages/` に EJS を追加
- `src/styles/pages/` に対応SCSSを追加
- 必要なら `src/static/js/` または `src/scripts/` にJSを追加
- 画像は必ず `src/images/` に置き、`./images/` から参照する。
- レスポンシブは `@include media(sp)` など、既存の Mixin に合わせる。
- Swiper / GSAP の初期化は DOM 構築後に行う。

### パーツリストページを作成する場合

- `src/pages/parts/index.ejs` を作成
- `src/styles/pages/_parts.scss` を作成
- 既存のコンポーネントを再利用し、バリエーションを豊富に作成
- 実際のサイトで使用しないコンポーネントでも、同じトンマナで可能な限り多く生成
- 各コンポーネントは独立して動作し、組み合わせて使用できるように設計

### セクションテンプレートを使用する場合

- `src/pages/template/sections/` 内の既存テンプレートを優先的に使用
- 新しいセクションテンプレートを作成する場合は、再利用可能な形で設計
- セクションテンプレートは独立して動作し、必要なデータは引数として受け取る
- セクションテンプレートの命名規則に従う（`_セクション名.ejs`）

### 設定ファイルを更新する場合

- `config/development.yaml` と `config/production.yaml` を適切に更新
- サイト情報、OGP設定、SNSリンク、ナビゲーション構造を設定ファイルで管理
- ハードコードされた値を設定ファイルの変数に置き換える
- 設定値はEJSテンプレートで `config` オブジェクト経由でアクセス

### デザイン品質を確保する場合

- **2025年のデザイントレンドを取り入れること（必須）**
  - 最新のデザイントレンドを反映したサイトデザインを実装
  - モダンで洗練されたUI/UXを心がける

- **高品質なデザインクオリティを維持すること（必須）**
  - [SANKOU!](https://sankoudesign.com/)、[muuuuu.org](https://muuuuu.org/)、[io3000.com](https://io3000.com/)、[81-web.com](https://81-web.com/)、[.SG_BOOKMARK](http://bookmark.dot-sg.com/) に掲載されるようなクオリティを目指す
  - プロフェッショナルなデザイン、洗練されたアニメーション、優れたユーザー体験を実現

- **デザイン品質チェックリストを確認**
  - セクション17のデザイン品質チェックリストを参照
  - ビジュアルデザイン、アニメーション、ユーザー体験、技術的な品質を確認

---

## 11. このテンプレートの目的

- 静的サイトを量産しやすい共通ベース を提供すること
- BEM + キャメルケース による一貫したCSS設計
- EJS + Gulp + Webpack によるビルドパイプラインの再利用
- Cursor / AI による自動生成・自動修正でも破綻しないルールを整備すること
- **2025年のデザイントレンドを取り入れた高品質なサイトを作成すること**
- **[SANKOU!](https://sankoudesign.com/)、[muuuuu.org](https://muuuuu.org/)、[io3000.com](https://io3000.com/)、[81-web.com](https://81-web.com/)、[.SG_BOOKMARK](http://bookmark.dot-sg.com/) に掲載されるようなクオリティのサイトを実現すること**

新しいディレクトリにこのテンプレートをコピーして別サイトを作成する場合も、
この `.cursorrules` をそのまま適用し、同じルールで作業すること。

---

## 12. コンポーネント指向とデザインシステム

### 12-1. コンポーネント指向の原則

このプロジェクトは **コンポーネント指向** で開発します。

- 各UI要素は独立したコンポーネントとして設計・実装する
- コンポーネントは再利用可能で、組み合わせて使用できる
- コンポーネントは自己完結型（スタイル・構造・動作が一つの単位）
- コンポーネント間の依存関係は最小限に抑える

#### コンポーネントの構成

各コンポーネントは以下のファイルで構成される：

- `src/styles/components/_コンポーネント名.scss` - スタイル定義
- EJSテンプレート内でインクルードまたは直接記述
- 必要に応じて `src/static/js/` または `src/scripts/` にJavaScriptを追加

#### コンポーネントの標準ディレクトリ構造

```
src/styles/components/
├── _button.scss          # ボタンコンポーネント
├── _card.scss            # カードコンポーネント
├── _form.scss            # フォームコンポーネント
├── _modal.scss           # モーダルコンポーネント
├── _ttl.scss             # タイトルコンポーネント
└── ...
```

#### コンポーネントのドキュメント化フォーマット

各コンポーネントファイルの先頭に以下の形式でドキュメントを記載：

```scss
/**
 * コンポーネント名: Button（ボタン）
 *
 * 説明: プライマリ、セカンダリ、アウトラインなどのボタンバリエーション
 *
 * 使用例:
 *   <button class="button button_type_primary">ボタン</button>
 *   <button class="button button_type_secondary">ボタン</button>
 *
 * Modifier:
 *   - button_type_primary: プライマリボタン
 *   - button_type_secondary: セカンダリボタン
 *   - button_type_outline: アウトラインボタン
 *   - button_size_large: 大きいサイズ
 *   - button_size_small: 小さいサイズ
 */
```

#### コンポーネントのバリエーション管理

1. **Modifierによるバリエーション**
   - 同じコンポーネントのバリエーションはModifierで管理
   - 例: `.button_type_primary`, `.button_type_secondary`

2. **バリエーションの命名規則**
   - `Block_type_値` 形式で命名
   - 値は意味のある名前を使用（`01`, `02` ではなく `primary`, `secondary` など）

3. **バリエーションのドキュメント化**
   - 各バリエーションの用途と使用例をドキュメントに記載
   - パーツリストページで視覚的に確認可能にする

### 12-2. デザインシステム（パーツリストページ）

**パーツリストページは必須** です。すべてのプロジェクトで作成してください。

#### パーツリストページの目的

- プロジェクト内で使用可能なすべてのコンポーネントを一覧表示
- デザインシステムとして機能し、開発時の参照資料となる
- クライアントやデザイナーへのプレゼンテーション資料としても活用

#### パーツリストページの配置

- ファイル: `src/pages/parts/index.ejs`
- スタイル: `src/styles/pages/_parts.scss`
- 出力先: `public/parts/index.html`

#### パーツリストに含めるべきコンポーネント

**実際のサイトで使用しないコンポーネントでも、同じトンマナで可能な限り多く生成してください。**

以下のようなコンポーネントを幅広く作成すること：

##### 基本コンポーネント

- ボタン（プライマリ、セカンダリ、アウトライン、テキストリンクなど）
- 見出し（h1〜h6、セクションタイトルなど）
- テキスト（リード文、本文、キャプションなど）
- リンク（通常、外部リンク、ダウンロードリンクなど）
- リスト（箇条書き、番号付きリスト、定義リストなど）

##### フォームコンポーネント

- テキスト入力（通常、パスワード、検索など）
- テキストエリア
- セレクトボックス
- チェックボックス（単体、グループ）
- ラジオボタン（単体、グループ）
- ファイルアップロード
- フォームバリデーション（エラー、成功メッセージ）

##### カード・パネルコンポーネント

- カード（基本、画像付き、アクション付きなど）
- パネル（情報、警告、エラーなど）
- モーダル・ダイアログ
- アコーディオン
- タブ

##### ナビゲーションコンポーネント

- ヘッダー（固定、スクロール時変化など）
- フッター
- グローバルナビゲーション
- パンくずリスト
- ページネーション

##### メディアコンポーネント

- 画像（通常、レスポンシブ、遅延読み込みなど）
- 動画
- カルーセル・スライダー
- ギャラリー
- アイコン

##### レイアウトコンポーネント

- グリッドシステム
- コンテナ・ラッパー
- セクション（背景色バリエーション）
- カラムレイアウト

##### その他のコンポーネント

- バッジ・ラベル
- プログレスバー
- ローディングスピナー
- トースト・通知
- テーブル
- 引用・ブロッククォート
- コードブロック

#### パーツリストページの構造例

```ejs
<%- include('./template/_header', {
    meta: {
        title: 'パーツリスト',
        description: 'デザインシステム - コンポーネント一覧',
        siteType: 'website',
        url: 'parts/',
    }
}) %>

<main class="partsList">
    <section class="partsList__section">
        <h2 class="partsList__sectionTitle">ボタン</h2>
        <div class="partsList__component">
            <!-- ボタンコンポーネントのバリエーション -->
        </div>
    </section>

    <section class="partsList__section">
        <h2 class="partsList__sectionTitle">フォーム</h2>
        <div class="partsList__component">
            <!-- フォームコンポーネントのバリエーション -->
        </div>
    </section>

    <!-- 他のコンポーネントセクション -->
</main>

<%- include('./template/_footer') %>
```

#### よく使われるコンポーネントのリスト

以下のコンポーネントは優先的に作成・充実させること：

##### 基本UIコンポーネント

- **ボタン** (`_button.scss`)
  - プライマリ、セカンダリ、アウトライン、テキストリンク
  - サイズバリエーション（large, medium, small）
  - 無効状態、ローディング状態

- **見出し** (`_ttl.scss`)
  - h1〜h6のスタイル
  - セクションタイトル
  - 装飾付きタイトル

- **テキスト** (`_text.scss`)
  - リード文、本文、キャプション
  - 強調テキスト、リンクテキスト

##### レイアウトコンポーネント

- **コンテナ** (`_container.scss`)
  - 幅制限コンテナ
  - フル幅コンテナ
  - パディングバリエーション

- **グリッド** (`_grid.scss`)
  - 2カラム、3カラム、4カラム
  - レスポンシブグリッド

- **セクション** (`_section.scss`)
  - 背景色バリエーション
  - パディングバリエーション

##### カード・パネルコンポーネント

- **カード** (`_card.scss`)
  - 基本カード
  - 画像付きカード
  - アクション付きカード
  - ホバーエフェクト

- **パネル** (`_panel.scss`)
  - 情報パネル
  - 警告パネル
  - エラーパネル

##### フォームコンポーネント

- **フォーム** (`_form.scss`)
  - テキスト入力
  - テキストエリア
  - セレクトボックス
  - チェックボックス
  - ラジオボタン
  - ファイルアップロード
  - バリデーション表示

##### ナビゲーションコンポーネント

- **パンくずリスト** (`_breadcrumb.scss`)
- **ページネーション** (`_pagination.scss`)
- **タブ** (`_tab.scss`)
- **アコーディオン** (`_accordion.scss`)

##### メディアコンポーネント

- **画像** (`_image.scss`)
  - レスポンシブ画像
  - 遅延読み込み対応
  - アスペクト比固定

- **カルーセル** (`_carousel.scss`)
  - Swiper連携
  - カスタムカルーセル

#### コンポーネントの組み合わせパターン

よく使われるコンポーネントの組み合わせパターン：

1. **カード + ボタン**
   ```html
   <div class="card">
       <div class="card__image">...</div>
       <div class="card__content">
           <h3 class="card__title">タイトル</h3>
           <p class="card__text">テキスト</p>
           <button class="button button_type_primary">詳細を見る</button>
       </div>
   </div>
   ```

2. **セクション + タイトル + カードリスト**
   ```html
   <section class="section">
       <div class="section__inner container">
           <h2 class="sectionTitle">セクションタイトル</h2>
           <div class="cardList">
               <div class="cardList__item">...</div>
           </div>
       </div>
   </section>
   ```

3. **フォーム + バリデーション**
   ```html
   <form class="form">
       <div class="form__item">
           <label class="form__label">名前</label>
           <input class="form__input" type="text">
           <p class="form__error">エラーメッセージ</p>
       </div>
   </form>
   ```

#### AIがパーツリストを作成する際の注意点

1. **バリエーションを豊富に作成する**
   - 同じコンポーネントでも、サイズ、色、スタイルのバリエーションを複数作成
   - 実際のサイトで使用しないパターンでも、将来の使い回しを想定して作成

2. **トンマナを統一する**
   - すべてのコンポーネントは同じデザインシステムに従う
   - カラーパレット、タイポグラフィ、スペーシングを統一

3. **実用的なパターンを優先**
   - よく使われるパターンを優先的に作成
   - ただし、使用頻度が低くても汎用性の高いコンポーネントも作成

4. **ドキュメント化**
   - 各コンポーネントには必要に応じて説明を追加
   - クラス名、使用例、注意事項を記載

5. **レスポンシブ対応**
   - すべてのコンポーネントはレスポンシブ対応
   - PC/SPでの表示を確認できるようにする

6. **コンポーネントの組み合わせ例**
   - よく使われる組み合わせパターンをパーツリストに含める
   - 実用的な使用例を提示

---

## 13. セクションテンプレートシステム

### 13-1. セクションテンプレートの構造

よく使われるセクションをテンプレート化し、再利用可能にします。

#### ディレクトリ構成

- `src/pages/template/sections/` - セクションテンプレート
  - `_hero.ejs` - ヒーローセクション
  - `_news.ejs` - お知らせセクション
  - `_productList.ejs` - 商品一覧セクション
  - `_contactForm.ejs` - お問い合わせフォームセクション
  - `_about.ejs` - 会社概要セクション
  - など

#### セクションテンプレートの命名規則

- ファイル名: `_セクション名.ejs`（アンダースコア始まり）
- バリエーション: `_セクション名_バリエーション名.ejs`（例: `_hero_type_main.ejs`）
- クラス名: セクション名をBlockとして使用（例: `hero`, `newsList`）

#### セクションテンプレートの使用例

```ejs
<%- include('./template/sections/_hero', {
    title: 'メインタイトル',
    subtitle: 'サブタイトル',
    image: './images/hero.jpg',
    cta: {
        text: 'お問い合わせ',
        url: './contact/'
    }
}) %>

<%- include('./template/sections/_news', {
    title: '最新情報',
    items: [
        {
            date: '2025.01.01',
            category: 'お知らせ',
            title: 'タイトル1',
            url: './news/01/'
        },
        // ...
    ]
}) %>
```

### 13-2. ページテンプレートの拡張

#### ページタイプ別テンプレート

- `src/pages/template/pages/` - ページタイプ別テンプレート
  - `_landingPage.ejs` - ランディングページ用
  - `_corporatePage.ejs` - コーポレートサイト用
  - `_ecPage.ejs` - ECサイト用

#### テンプレート変数の標準化

各ページテンプレートは以下の変数を受け取る：

```ejs
<%- include('./template/pages/_landingPage', {
    meta: {
        title: 'ページタイトル',
        description: 'ページの説明',
        siteType: 'website',
        url: 'page/',
    },
    sections: [
        {
            type: 'hero',
            data: { /* ヒーローセクションのデータ */ }
        },
        {
            type: 'news',
            data: { /* お知らせセクションのデータ */ }
        },
        // ...
    ]
}) %>
```

### 13-3. セクションテンプレートの作成ルール

1. **独立したコンポーネントとして設計**
   - セクションは独立して動作し、他のセクションに依存しない
   - 必要なデータは引数として受け取る

2. **BEM命名規則に従う**
   - セクション名をBlockとして使用
   - Element、Modifierは標準BEMルールに従う

3. **変数の型を明確にする**
   - 各セクションテンプレートには使用する変数の型と説明をコメントで記載

4. **デフォルト値の設定**
   - 可能な限りデフォルト値を設定し、オプショナルな変数に対応

---

## 14. サイト設定の一元管理

### 14-1. 設定ファイルの構造拡張

`config/development.yaml` と `config/production.yaml` でサイト全体の設定を一元管理します。

#### 設定ファイルの構造例

```yaml
# サイト基本情報
siteName: ' | サイト名'
copyrightOwner: '© 2024 会社名'

# OGP設定
ogp:
    siteName: 'サイト名'
    defaultImage: '/images/ogp.png'
    twitterCard: 'summary_large_image'
    twitterSite: '@twitter_account'

# SNSリンク
social:
    twitter: 'https://twitter.com/account'
    facebook: 'https://facebook.com/account'
    instagram: 'https://instagram.com/account'
    youtube: 'https://youtube.com/account'

# ナビゲーション構造
navigation:
    header:
        - label: 'ホーム'
          url: './'
        - label: '会社概要'
          url: './about/'
        - label: '商品情報'
          url: './product/'
            children:
                - label: '商品カテゴリ1'
                  url: './product/category1/'
                - label: '商品カテゴリ2'
                  url: './product/category2/'
    footer:
        # フッターナビゲーションの定義

# 会社情報
company:
    name: '株式会社 会社名'
    nameEn: 'Company Name Inc.'
    address: '〒000-0000 都道府県 市区町村 番地'
    tel: '00-0000-0000'
    email: 'info@example.com'
    businessHours: '平日 9:00-18:00'

# お問い合わせフォーム設定
contact:
    email: 'contact@example.com'
    fields:
        - name: 'name'
          label: 'お名前'
          required: true
        - name: 'email'
          label: 'メールアドレス'
          required: true
        # ...
```

### 14-2. 設定値のEJSテンプレートでの使用

設定ファイルの値はEJSテンプレートで `config` オブジェクト経由でアクセス可能：

```ejs
<!-- サイト名 -->
<title><%= meta.title %><%= siteName %></title>

<!-- OGP設定 -->
<meta property="og:site_name" content="<%= config.ogp.siteName %>" />
<meta property="og:image" content="<%= config.ogp.defaultImage %>" />

<!-- SNSリンク -->
<a class="footer__snsLink" href="<%= config.social.twitter %>" target="_blank">Twitter</a>

<!-- 会社情報 -->
<p class="footer__companyName"><%= config.company.name %></p>
<p class="footer__address"><%= config.company.address %></p>
<p class="footer__tel"><%= config.company.tel %></p>
```

### 14-3. 環境別設定の管理

- `config/development.yaml` - 開発環境用設定
- `config/production.yaml` - 本番環境用設定

環境変数 `NODE_ENV` に応じて自動的に読み込まれます。

共通設定は `config/default.yaml` に定義し、環境別設定で上書きできます。

### 14-4. メタデータ管理の標準化

#### ページメタデータの定義

各ページのEJSファイルでメタデータを定義：

```ejs
<%- include('./template/_header', {
    meta: {
        title: 'ページタイトル',
        description: 'ページの説明文',
        siteType: 'website', // 'website' または 'article'
        url: 'about/',
        ogImage: './images/ogp_about.jpg', // オプション（デフォルトは config.ogp.defaultImage）
    }
}) %>
```

#### サイト全体のメタデータ設定

`config/` の設定ファイルでサイト全体のデフォルト値を設定。

---

## 15. コード生成ガイドライン

### 15-1. AIによる自動生成ルール

#### テンプレートベースのコード生成手順

1. **既存テンプレートの確認**
   - `src/pages/template/` 内の既存テンプレートを確認
   - 再利用可能なセクションテンプレートを探す

2. **テンプレートの選択**
   - ページタイプに応じたテンプレートを選択
   - 必要に応じてセクションテンプレートを組み合わせ

3. **変数の準備**
   - テンプレートに必要な変数を準備
   - 設定ファイルから取得できる値は `config` から取得

4. **コード生成**
   - テンプレートをインクルードしてコードを生成
   - BEM命名規則に従ったクラス名を使用

#### コンポーネント生成時のチェックリスト

- [ ] BEM命名規則に従っているか
- [ ] すべてのHTMLタグにclass属性が付与されているか
- [ ] コンポーネントは独立して動作するか
- [ ] レスポンシブ対応されているか
- [ ] アクセシビリティに配慮されているか（alt属性、aria属性など）
- [ ] 既存のコンポーネントと重複していないか
- [ ] パーツリストページに追加されているか

### 15-2. ページ生成の効率化

#### 新規ページ作成時の標準手順

1. **ページファイルの作成**
   - `src/pages/ページ名/index.ejs` を作成
   - テンプレートをインクルード

2. **スタイルファイルの作成**
   - `src/styles/pages/_ページ名.scss` を作成
   - ページ固有のスタイルを定義

3. **JavaScriptファイルの作成（必要な場合）**
   - `src/scripts/ページ名.js` または `src/static/js/ページ名.js` を作成

4. **画像の配置**
   - `src/images/ページ名/` に画像を配置

5. **パーツリストへの追加**
   - 新しいコンポーネントはパーツリストページに追加

#### セクション追加時のテンプレート利用方法

```ejs
<!-- 既存のセクションテンプレートを使用 -->
<%- include('./template/sections/_hero', {
    title: 'タイトル',
    // ...
}) %>

<!-- カスタムセクションの場合 -->
<section class="customSection">
    <!-- コンポーネントを組み合わせて作成 -->
    <div class="customSection__inner">
        <!-- 既存コンポーネントの再利用 -->
    </div>
</section>
```

#### コンポーネント組み合わせのベストプラクティス

1. **既存コンポーネントの優先利用**
   - 新規作成前に既存コンポーネントで実現できないか確認
   - 既存コンポーネントのModifierで対応できないか検討

2. **コンポーネントの組み合わせ**
   - 小さなコンポーネントを組み合わせて大きなセクションを構築
   - コンポーネント間の依存関係を最小限に

3. **スタイルの継承**
   - 共通スタイルは `_base.scss` やコンポーネントで定義
   - ページ固有のスタイルは最小限に

### 15-3. コード品質の基準

#### 必須チェック項目

- BEM命名規則の遵守
- すべてのタグにclass属性の付与
- インデント: 4スペース
- ファイル末尾の改行
- 行末の空白の削除

#### 推奨チェック項目

- アクセシビリティ（alt属性、aria属性など）
- セマンティックHTMLの使用
- パフォーマンス（画像の最適化、CSS/JSの最小化）
- ブラウザ互換性

---

## 16. 複数サイト対応の構造化

### 16-1. マルチサイト対応ガイドライン

このテンプレートは、テンプレートベースから複数のサイトを生成することを想定しています。

#### テンプレートベースのサイト生成方法

1. **テンプレートのコピー**
   - このテンプレートを新しいディレクトリにコピー
   - `.cursorrules` もそのままコピー

2. **設定ファイルの更新**
   - `config/development.yaml` と `config/production.yaml` をサイト固有の値に更新
   - サイト名、OGP設定、SNSリンク、会社情報などを設定

3. **共通テンプレートのカスタマイズ**
   - `src/pages/template/_header.ejs` と `_footer.ejs` をサイトに合わせてカスタマイズ
   - ロゴや画像は仮で外部から持ってくること（例: placeholder.com、unsplash.comなど）

4. **コンポーネントの再利用**
   - `src/styles/components/` のコンポーネントは基本的にそのまま使用可能
   - サイト固有のカスタマイズが必要な場合はModifierで対応

#### サイト固有の設定と共通設定の分離

- **共通設定**: `config/default.yaml` に定義（存在する場合）
- **サイト固有設定**: `config/development.yaml` と `config/production.yaml` に定義
- **環境別設定**: `NODE_ENV` に応じて自動的に読み込まれる

#### サイト間でのコンポーネント共有方法

1. **コンポーネントの共通化**
   - 汎用的なコンポーネントは `src/styles/components/` に配置
   - サイト固有のコンポーネントはページ固有スタイルで定義

2. **コンポーネントのバージョン管理**
   - Gitでコンポーネントの変更履歴を管理
   - 他のサイトに適用する場合は、変更内容を確認して適用

3. **コンポーネントライブラリの維持**
   - パーツリストページでコンポーネントを管理
   - 新しいコンポーネントは必ずパーツリストに追加

### 16-2. テンプレートの再利用性向上

#### サイト間で再利用可能なテンプレートの設計

1. **変数化の徹底**
   - ハードコードされた値を設定ファイルや変数に置き換え
   - サイト固有の値はすべて設定ファイルから取得

2. **モジュール化**
   - 小さな単位でテンプレートを分割
   - セクションテンプレートを活用

3. **デフォルト値の設定**
   - テンプレートには可能な限りデフォルト値を設定
   - オプショナルな変数に対応

#### サイト固有のカスタマイズ方法

1. **Modifierの活用**
   - サイト固有のスタイルはModifierで対応
   - 既存コンポーネントのModifierを追加

2. **設定ファイルの活用**
   - サイト固有の値は設定ファイルで管理
   - テンプレート内で設定値を参照

3. **ページ固有スタイル**
   - サイト固有のスタイルは `src/styles/pages/` に定義
   - 共通コンポーネントは変更しない

#### テンプレートのバージョン管理

- Gitでテンプレートの変更履歴を管理
- テンプレートの更新は別ブランチで管理
- 他のサイトへの適用時は変更内容を確認

### 16-3. 新規サイト作成時のチェックリスト

- [ ] テンプレートを新しいディレクトリにコピー
- [ ] `.cursorrules` をコピー
- [ ] `config/development.yaml` と `config/production.yaml` を更新
- [ ] `src/pages/template/_header.ejs` と `_footer.ejs` をカスタマイズ
- [ ] ロゴや画像を仮画像で設定（外部サービスを利用）
- [ ] サイト名、OGP設定、SNSリンクを設定
- [ ] ナビゲーション構造を設定
- [ ] 会社情報を設定
- [ ] パーツリストページを作成
- [ ] ビルドが正常に動作することを確認

---

## 17. デザイン品質とトレンド

### 17-1. 必須条件

このテンプレートで作成するすべてのサイトは、以下の条件を満たす必要があります：

1. **2025年のデザイントレンドを取り入れること（必須）**
   - 最新のデザイントレンドを反映したサイトデザインを実装すること
   - モダンで洗練されたUI/UXを心がけること

2. **高品質なデザインクオリティを維持すること（必須）**
   - [SANKOU!](https://sankoudesign.com/) に掲載されるようなクオリティのサイトを作成すること
   - [muuuuu.org](https://muuuuu.org/) に掲載されるようなクオリティのサイトを作成すること
   - [io3000.com](https://io3000.com/) に掲載されるようなクオリティのサイトを作成すること
   - [81-web.com](https://81-web.com/) に掲載されるようなクオリティのサイトを作成すること
   - [.SG_BOOKMARK](http://bookmark.dot-sg.com/) に掲載されるようなクオリティのサイトを作成すること
   - プロフェッショナルなデザイン、洗練されたアニメーション、優れたユーザー体験を実現すること

### 17-2. 2025年のデザイントレンド

以下のトレンドを意識してデザインを実装すること：

#### ビジュアルデザイン

- **モダンなタイポグラフィ**
  - 大きな見出し、適切な行間、読みやすいフォントサイズ
  - カスタムフォントや可変フォントの活用

- **洗練されたカラーパレット**
  - 落ち着いた配色、グラデーションの効果的な使用
  - ダークモード対応の検討

- **余白とスペーシング**
  - 十分な余白、呼吸感のあるレイアウト
  - コンテンツの階層構造を明確に

- **質感とテクスチャ**
  - グラスモーフィズム、ニューモーフィズムの要素
  - 微細な影やグラデーションによる立体感

#### アニメーションとインタラクション

- **滑らかなトランジション**
  - ページ遷移、ホバーエフェクト、スクロールアニメーション
  - 60fpsを維持するパフォーマンス最適化

- **パララックス効果**
  - スクロールに連動した動き
  - 視覚的な深みと没入感

- **マイクロインタラクション**
  - ボタン、フォーム、ナビゲーションの細かな動き
  - ユーザーの操作に対する即座のフィードバック

- **ローディングアニメーション**
  - 創造的で印象的なローディング表現
  - 待ち時間を楽しくする工夫

#### レイアウトと構造

- **非対称レイアウト**
  - グリッドベースの柔軟なレイアウト
  - 視覚的な興味を引く配置

- **カードベースデザイン**
  - 情報を整理しやすいカードレイアウト
  - ホバーエフェクトやシャドウによる立体感

- **フルスクリーンセクション**
  - インパクトのあるヒーローセクション
  - ビジュアル重視のセクション設計

- **レスポンシブデザイン**
  - モバイルファーストのアプローチ
  - すべてのデバイスで最適な体験を提供

#### コンテンツ表現

- **高品質な画像と動画**
  - プロフェッショナルな写真、適切な画像最適化
  - 動画コンテンツの効果的な活用

- **イラストとアイコン**
  - カスタムイラスト、統一感のあるアイコンセット
  - ブランドアイデンティティを反映したビジュアル

- **インフォグラフィック**
  - 情報を視覚的に分かりやすく表現
  - データの可視化

### 17-3. 参考サイトのクオリティ基準

以下のサイトに掲載されるようなクオリティを目指すこと：

#### SANKOU! (https://sankoudesign.com/)

- 国内の優れたWebデザインサイトのギャラリー
- スタイリッシュで洗練されたデザイン
- 創造性と実用性のバランス
- 優れたユーザー体験

#### muuuuu.org (https://muuuuu.org/)

- 高品質なWebデザインのキュレーションサイト
- モダンでトレンディなデザイン
- 優れたアニメーションとインタラクション
- プロフェッショナルな完成度

#### io3000.com (https://io3000.com/)

- 優れたWebデザインの展示サイト
- 革新的なデザインアプローチ
- 洗練されたビジュアル表現
- 高い技術力とデザイン力

#### 81-web.com (https://81-web.com/)

- Webデザインのアーカイブサイト
- 多様なデザインスタイルの収集
- カテゴリ別・タグ別の検索機能
- 優れたデザインの分類と整理

#### .SG_BOOKMARK (http://bookmark.dot-sg.com/)

- Webデザインのブックマークサイト
- 国際的なデザイン事例の収集
- ブランドサイトからポートフォリオまで幅広いジャンル
- 洗練されたデザインのキュレーション

### 17-4. デザイン品質チェックリスト

サイト作成時は以下の項目を確認すること：

#### ビジュアルデザイン

- [ ] モダンで洗練されたデザイン
- [ ] 適切なカラーパレットとコントラスト
- [ ] 読みやすいタイポグラフィ
- [ ] 十分な余白とスペーシング
- [ ] 統一感のあるデザインシステム

#### アニメーションとインタラクション

- [ ] 滑らかで自然なアニメーション
- [ ] 適切なホバーエフェクト
- [ ] スクロールアニメーションの実装
- [ ] パフォーマンスの最適化（60fps維持）
- [ ] マイクロインタラクションの実装

#### ユーザー体験

- [ ] 直感的なナビゲーション
- [ ] 明確な情報階層
- [ ] 適切なCTA（コールトゥアクション）
- [ ] アクセシビリティへの配慮
- [ ] モバイルでの最適な体験

#### 技術的な品質

- [ ] レスポンシブデザインの実装
- [ ] パフォーマンスの最適化
- [ ] SEO対策
- [ ] ブラウザ互換性
- [ ] コードの品質と保守性

#### コンテンツ

- [ ] 高品質な画像とビジュアル
- [ ] 適切なコンテンツ構造
- [ ] 読みやすいテキスト
- [ ] 効果的なビジュアルストーリーテリング

### 17-5. AIがデザインを実装する際の注意点

1. **トレンドの研究**
   - 最新のデザイントレンドを常に意識する
   - 参考サイトを分析し、良い要素を取り入れる

2. **品質の追求**
   - 妥協のないデザイン品質を維持する
   - 細部までこだわりを持つ

3. **ユーザー体験の重視**
   - 見た目だけでなく、使いやすさも重視する
   - アクセシビリティとパフォーマンスを考慮する

4. **ブランドアイデンティティの反映**
   - クライアントのブランドに合ったデザイン
   - 一貫性のあるデザインシステム

5. **継続的な改善**
   - フィードバックに基づいた改善
   - 最新トレンドへの適応

